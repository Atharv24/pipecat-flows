{
    "initial_node": "start",
    "nodes": {
      "end": {
        "messages": [
          {
            "role": "system",
            "content": "The conversation is complete. Thank the user and end the conversation."
          }
        ],
        "functions": [],
        "pre_actions": [
          {
            "type": "tts_say",
            "text": "Thanks for your question! Goodbye!"
          }
        ],
        "post_actions": [
          {
            "type": "end_conversation"
          }
        ]
      },
      "choose_technical_question": {
        "messages": [
          {
            "role": "system",
            "content": "You are handling a technical question. Use the available function: - Use the look_up_answer function when someone asks a question. - Use the end function ONLY when the user confirms you have answered their question. - Use the transfer_to_person function if the user wants to talk to a real person or you cannot provide an answer. Only use the end function after the user confirms their question is answered. Start by acknowledging the user's choice. Remember to be friendly and professional."
          }
        ],
        "functions": [
          {
            "type": "function",
            "function": {
              "name": "look_up_answer",
              "description": "Look up the answer to the user's question in the Zendesk knowledge base.",
              "parameters": {
                "type": "object",
                "properties": {
                  "question": {
                    "type": "string",
                    "description": "The user's question."
                  }
                },
                "required": [
                  "question"
                ]
              }
            }
          },
          {
            "type": "function",
            "function": {
              "name": "end",
              "description": "Complete the conversation (use only after user confirms)",
              "parameters": {
                "type": "object",
                "properties": {}
              }
            }
          },
          {
            "type": "function",
            "function": {
              "name": "transfer_to_person",
              "description": "Call this function when a user wants to speak to a real person or you're unable to answer the question.",
              "parameters": {
                "type": "object",
                "properties": {}
              }
            }
          }
        ],
        "pre_actions": [
          {
            "type": "tts_say",
            "text": "Let me look that up for you..."
          }
        ]
      },
      "choose_pricing_question": {
        "messages": [
          {
            "role": "system",
            "content": "You are handling a pricing question. Our pricing is the following: - We charge $0.02 per minute per participant. - The first 10000 minutes per month are free. - We offer a 10% discount if you pay yearly instead of monthly. Use this information to calculate the price. For example, if the user writes: \"How much would it cost to have 1000 monthly meetings that last an hour with two people on the call each time?\" Respond with:\"That would be 120000 minutes per month. You receive 10000 minutes for free each month, meaning you only pay for 110000 minutes. Your total cost would be $2200 per month, or $23,760 per year with our 10% yearly discount.\" Only use the end function after the user confirms their question is answered. Explain your logic in detail. If you're unsure about your answer, tell the user and encourage them to check www.daily.co/pricing for up-to-date pricing information. Start by acknowledging the user's choice. Remember to be friendly and professional."
          }
        ],
        "functions": [
          {
            "type": "function",
            "function": {
              "name": "end",
              "description": "Complete the conversation (use only after user confirms)",
              "parameters": {
                "type": "object",
                "properties": {}
              }
            }
          }
        ],
        "pre_actions": [
          {
            "type": "tts_say",
            "text": "Let me look up pricing now..."
          }
        ]
      },
      "start": {
        "messages": [
          {
            "role": "system",
            "content": "You are a customer service bot for Daily. For this step, ask them if they have a technical or a pricing question, and wait for them to use a function to choose. Start by greeting them. Be brief, friendly, and professional."
          }
        ],
        "functions": [
          {
            "type": "function",
            "function": {
              "name": "choose_technical_question",
              "description": "User has a question related to the product and needs help resolving.",
              "parameters": {
                "type": "object",
                "properties": {}
              }
            }
          },
          {
            "type": "function",
            "function": {
              "name": "choose_pricing_question",
              "description": "User has a question about pricing.",
              "parameters": {
                "type": "object",
                "properties": {}
              }
            }
          }
        ]
      }
    }
  }
  